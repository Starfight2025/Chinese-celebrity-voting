<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>星光对决 - 性别/年龄/领域分区</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'PingFang SC','Helvetica Neue',Arial,sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;color:#333;overflow-x:hidden;}
.container{max-width:1200px;margin:0 auto;padding:20px;}
.header{text-align:center;margin-bottom:30px;color:white;}
.header h1{font-size:3em;margin-bottom:12px;background:linear-gradient(45deg,#fff,#f0f0f0);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;}
.header p{opacity:.95}
.nav{display:flex;justify-content:center;gap:16px;margin-bottom:16px;flex-wrap:wrap}
.nav-btn{background:rgba(255,255,255,.15);border:2px solid rgba(255,255,255,.3);color:#fff;padding:12px 22px;border-radius:26px;cursor:pointer;transition:.3s;backdrop-filter:blur(12px)}
.nav-btn:hover,.nav-btn.active{background:rgba(255,255,255,.25);transform:translateY(-2px);box-shadow:0 10px 26px rgba(0,0,0,.25)}
.filters{display:flex;justify-content:center;gap:12px;flex-wrap:wrap;margin-bottom:28px}
.filter-card{background:rgba(255,255,255,.9);border-radius:14px;padding:10px 14px;box-shadow:0 10px 30px rgba(0,0,0,.12)}
.filter-card label{font-weight:600;margin-right:8px}
.filter-card select{padding:8px 10px;border-radius:8px;border:1px solid #ddd}
.hidden{display:none}
.comparison-section,.leaderboard{background:rgba(255,255,255,.95);border-radius:22px;padding:28px;margin-bottom:26px;box-shadow:0 22px 70px rgba(0,0,0,.14)}
.comparison-section h2,.leaderboard h2{text-align:center;margin-bottom:18px;background:linear-gradient(45deg,#667eea,#764ba2);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.comparison-container{display:flex;justify-content:space-between;align-items:center;gap:30px;max-width:900px;margin:0 auto;}
.star-card{flex:1;text-align:center;padding:24px;border-radius:18px;background:linear-gradient(145deg,#f8f9fa,#fff);box-shadow:0 14px 36px rgba(0,0,0,.12);cursor:pointer;transition:.35s;border:2px solid transparent}
.star-card:hover{transform:translateY(-6px);box-shadow:0 20px 48px rgba(0,0,0,.18)}
.champion-card{border-color:#ffd700}
.challenger-card{border-color:#ff6b6b}
.star-photo{width:160px;height:210px;border-radius:14px;margin:0 auto 16px;display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700;box-shadow:0 10px 26px rgba(0,0,0,.2)}
.star-name{font-size:1.6em;font-weight:700;margin-bottom:8px}
.star-info{color:#666;margin-bottom:14px}
.vote-btn{background:linear-gradient(45deg,#667eea,#764ba2);color:#fff;border:none;padding:12px 26px;border-radius:24px;cursor:pointer;font-weight:700;transition:.25s}
.vote-btn:hover{transform:translateY(-2px)}
.vs-divider{font-size:2em;font-weight:800;background:linear-gradient(45deg,#ff6b6b,#ffd700);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.ranking-item{display:flex;align-items:center;padding:16px;margin-bottom:12px;background:linear-gradient(145deg,#f8f9fa,#fff);border-radius:12px;box-shadow:0 8px 24px rgba(0,0,0,.08);border-left:5px solid transparent}
.ranking-item:nth-child(1){border-left-color:#ffd700}
.ranking-item:nth-child(2){border-left-color:#c0c0c0}
.ranking-item:nth-child(3){border-left-color:#cd7f32}
.rank-number{min-width:46px;font-size:1.4em;color:#667eea;font-weight:800;margin-right:18px}
.rank-info{flex:1}
.rank-name{font-weight:800}
.rank-score{font-weight:800;color:#667eea}
.battle-news{background:linear-gradient(45deg,#f8f9fa,#e9ecef);border-radius:12px;padding:18px;margin-bottom:12px;border-left:5px solid #667eea}
@media (max-width:768px){
  .comparison-container{flex-direction:column;gap:18px}
  .vs-divider{transform:rotate(90deg)}
}
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <h1>🔥 星光对决 🔥</h1>
    <p>按性别、年龄段、领域筛选，一键开打！</p>
  </div>

  <div class="nav">
    <button class="nav-btn active" onclick="showSection(event,'arena')">🏟️ 明星擂台</button>
    <button class="nav-btn" onclick="showSection(event,'cp')">💕 CP大作战</button>
    <button class="nav-btn" onclick="showSection(event,'ranking')">👑 王者榜单</button>
    <button class="nav-btn" onclick="showSection(event,'battle')">💥 战况播报</button>
  </div>

  <!-- 筛选：性别 / 年龄 / 领域 -->
  <div class="filters">
    <div class="filter-card">
      <label for="genderFilter">性别：</label>
      <select id="genderFilter" onchange="applyFilters()">
        <option value="all">全部</option>
        <option value="male">男</option>
        <option value="female">女</option>
      </select>
    </div>
    <div class="filter-card">
      <label for="ageFilter">年龄段：</label>
      <select id="ageFilter" onchange="applyFilters()">
        <option value="all">全部</option>
        <option value="gen2000">00后（≤24）</option>
        <option value="gen1990">90后（25–34）</option>
        <option value="gen1980">80后（35–44）</option>
        <option value="gen1970">70后+（≥45）</option>
      </select>
    </div>
    <div class="filter-card">
      <label for="categoryFilter">领域：</label>
      <select id="categoryFilter" onchange="applyFilters()">
        <option value="all">全部</option>
        <option value="actor">影视演员</option>
        <option value="singer">歌手</option>
        <option value="variety">综艺主持</option>
      </select>
    </div>
  </div>

  <!-- 明星擂台 -->
  <div id="arenaSection" class="comparison-section">
    <h2>🏟️ 明星擂台</h2>
    <div class="comparison-container">
      <div class="star-card champion-card" onclick="voteArena('left')">
        <div class="star-photo" id="arenaLeftPhoto">👑 擂主</div>
        <div class="star-name" id="arenaLeftName">擂主</div>
        <div class="star-info" id="arenaLeftInfo">等待挑战者</div>
        <div class="wins-count" id="leftWins">连胜: 0场</div>
        <button class="vote-btn">守擂成功！</button>
      </div>
      <div class="vs-divider">⚡VS⚡</div>
      <div class="star-card challenger-card" onclick="voteArena('right')">
        <div class="star-photo" id="arenaRightPhoto">⚔️ 挑战者</div>
        <div class="star-name" id="arenaRightName">挑战者</div>
        <div class="star-info" id="arenaRightInfo">挑战者信息</div>
        <div class="wins-count">新人挑战</div>
        <button class="vote-btn">夺取擂主！</button>
      </div>
    </div>
  </div>

  <!-- CP 大作战（不受筛选影响） -->
  <div id="cpSection" class="comparison-section hidden">
    <h2>💕 CP大作战</h2>
    <div class="comparison-container">
      <div class="star-card champion-card" onclick="voteCp('left')">
        <div class="star-photo" id="cpLeftPhoto">💖 擂主CP</div>
        <div class="star-name" id="cpLeftName">擂主CP</div>
        <div class="star-info" id="cpLeftInfo">来源</div>
        <div class="wins-count" id="cpLeftWins">连胜: 0场</div>
        <button class="vote-btn">守擂成功！</button>
      </div>
      <div class="vs-divider">💥VS💥</div>
      <div class="star-card challenger-card" onclick="voteCp('right')">
        <div class="star-photo" id="cpRightPhoto">💕 挑战CP</div>
        <div class="star-name" id="cpRightName">挑战CP</div>
        <div class="star-info" id="cpRightInfo">来源</div>
        <div class="wins-count">新CP挑战</div>
        <button class="vote-btn">夺取CP王！</button>
      </div>
    </div>
    <div id="cpRankingList" style="margin-top:20px;">
      <h3 style="text-align:center;margin-bottom:14px;color:#667eea;">💕 CP热度榜 💕</h3>
    </div>
  </div>

  <!-- 总榜 -->
  <div id="rankingSection" class="leaderboard hidden">
    <h2>👑 王者争霸榜</h2>
    <div id="rankingList"></div>
  </div>

  <!-- 战况 -->
  <div id="battleSection" class="leaderboard hidden">
    <h2>💥 战况播报</h2>
    <div id="battleNews"></div>
  </div>
</div>

<script>
/* 数据（性别/年龄/领域齐全） */
const starsRaw = [
  // 00后
  {name:'易烊千玺',gender:'male',age:23,category:'actor',score:1250,wins:0},
  {name:'王俊凯',gender:'male',age:24,category:'singer',score:1180,wins:0},
  {name:'王源',gender:'male',age:23,category:'singer',score:1150,wins:0},
  {name:'张子枫',gender:'female',age:22,category:'actor',score:1120,wins:0},
  {name:'欧阳娜娜',gender:'female',age:23,category:'variety',score:980,wins:0},
  {name:'关晓彤',gender:'female',age:26,category:'actor',score:1050,wins:0},

  // 90后
  {name:'肖战',gender:'male',age:32,category:'actor',score:1320,wins:0},
  {name:'王一博',gender:'male',age:26,category:'actor',score:1280,wins:0},
  {name:'迪丽热巴',gender:'female',age:31,category:'actor',score:1200,wins:0},
  {name:'李现',gender:'male',age:32,category:'actor',score:1050,wins:0},
  {name:'古力娜扎',gender:'female',age:31,category:'actor',score:980,wins:0},
  {name:'邓紫棋',gender:'female',age:32,category:'singer',score:1160,wins:0},
  {name:'华晨宇',gender:'male',age:33,category:'singer',score:1090,wins:0},
  {name:'周深',gender:'male',age:31,category:'singer',score:1070,wins:0},
  {name:'毛不易',gender:'male',age:30,category:'singer',score:1020,wins:0},
  {name:'鹿晗',gender:'male',age:34,category:'actor',score:1100,wins:0},

  // 80后
  {name:'赵丽颖',gender:'female',age:36,category:'actor',score:1180,wins:0},
  {name:'杨幂',gender:'female',age:37,category:'actor',score:1150,wins:0},
  {name:'朱一龙',gender:'male',age:35,category:'actor',score:1100,wins:0},
  {name:'刘亦菲',gender:'female',age:36,category:'actor',score:1220,wins:0},
  {name:'薛之谦',gender:'male',age:40,category:'singer',score:1080,wins:0},
  {name:'谢娜',gender:'female',age:42,category:'variety',score:1150,wins:0},

  // 70后+
  {name:'何炅',gender:'male',age:49,category:'variety',score:1300,wins:0},
  {name:'沈腾',gender:'male',age:44,category:'actor',score:1350,wins:0},
  {name:'黄渤',gender:'male',age:49,category:'actor',score:1280,wins:0},
  {name:'孙俪',gender:'female',age:41,category:'actor',score:1200,wins:0},
];

/* CP 数据（不受筛选） */
const popularCPs = [
  {name:"肖战 × 王一博",star1:"肖战",star2:"王一博",source:"《陈情令》",score:15880,type:"耽美CP",wins:0},
  {name:"杨紫 × 肖战",star1:"肖战",star2:"杨紫",source:"《余生请多指教》",score:12450,type:"荧幕CP",wins:0},
  {name:"赵丽颖 × 王一博",star1:"王一博",star2:"赵丽颖",source:"《有翡》",score:11200,type:"荧幕CP",wins:0},
  {name:"迪丽热巴 × 杨洋",star1:"杨洋",star2:"迪丽热巴",source:"《你是我的荣耀》",score:10800,type:"荧幕CP",wins:0},
  {name:"古力娜扎 × 易烊千玺",star1:"易烊千玺",star2:"古力娜扎",source:"《长安十二时辰》",score:9900,type:"荧幕CP",wins:0},
  {name:"刘亦菲 × 朱一龙",star1:"朱一龙",star2:"刘亦菲",source:"《梦华录》",score:9600,type:"荧幕CP",wins:0},
  {name:"关晓彤 × 鹿晗",star1:"鹿晗",star2:"关晓彤",source:"现实情侣",score:8500,type:"真实CP",wins:0},
  {name:"杨幂 × 李现",star1:"李现",star2:"杨幂",source:"联想",score:8200,type:"梦幻CP",wins:0},
  {name:"张子枫 × 易烊千玺",star1:"易烊千玺",star2:"张子枫",source:"《少年的你》",score:7800,type:"荧幕CP",wins:0},
  {name:"华晨宇 × 邓紫棋",star1:"华晨宇",star2:"邓紫棋",source:"音乐合作",score:7200,type:"音乐CP",wins:0},
];

/* 过滤状态 */
let currentGender='all';
let currentAge='all';
let currentCategory='all';

/* 运行时状态 */
let stars=[]; // 受筛选后的池
let currentChampion=null,championWins=0,currentPair=[];
let currentCpChampion=null,cpChampionWins=0,currentCpPair=[];
let battleHistory=[];

/* 工具 */
const GRADIENTS=[
  'linear-gradient(45deg,#ff6b6b,#4ecdc4)',
  'linear-gradient(45deg,#667eea,#764ba2)',
  'linear-gradient(45deg,#f093fb,#f5576c)',
  'linear-gradient(45deg,#4facfe,#00f2fe)',
  'linear-gradient(45deg,#43e97b,#38f9d7)',
  'linear-gradient(45deg,#fa709a,#fee140)'
];
function setRandomBG(id){const el=document.getElementById(id); if(el) el.style.background=GRADIENTS[Math.floor(Math.random()*GRADIENTS.length)];}
function ageGroup(age){ if(age<=24) return 'gen2000'; if(age<=34) return 'gen1990'; if(age<=44) return 'gen1980'; return 'gen1970'; }
function ageGroupLabel(age){ return {gen2000:'00后',gen1990:'90后',gen1980:'80后',gen1970:'70后+'}[ageGroup(age)]; }
function categoryLabel(c){ return {actor:'影视演员',singer:'歌手',variety:'综艺主持'}[c] || c; }

/* 过滤应用 */
function applyFilters(){
  currentGender=document.getElementById('genderFilter').value;
  currentAge=document.getElementById('ageFilter').value;
  currentCategory=document.getElementById('categoryFilter').value;

  stars = starsRaw.filter(s=>{
    const okG = (currentGender==='all') || (s.gender===currentGender);
    const okA = (currentAge==='all') || (ageGroup(s.age)===currentAge);
    const okC = (currentCategory==='all') || (s.category===currentCategory);
    return okG && okA && okC;
  });

  if(stars.length<2){ stars=[...starsRaw]; } // 保底可对战
  // 重置擂主，避免筛选后擂主不在池子里
  currentChampion=null; championWins=0;

  updateArenaDisplay(); updateRanking();
}

/* 明星擂台（基于筛选池） */
function getArenaPair(){
  if(!currentChampion){
    currentChampion = stars[Math.floor(Math.random()*stars.length)];
    championWins=0;
  }
  const pool = stars.filter(s=>s.name!==currentChampion.name);
  const challenger = pool[Math.floor(Math.random()*pool.length)];
  return [currentChampion,challenger];
}
function updateArenaDisplay(){
  currentPair=getArenaPair();
  const [champion,challenger]=currentPair;
  document.getElementById('arenaLeftName').textContent=champion.name;
  document.getElementById('arenaLeftInfo').textContent=
    `${champion.gender==='male'?'男':'女'} · ${champion.age}岁 · ${ageGroupLabel(champion.age)} · ${categoryLabel(champion.category)}`;
  document.getElementById('leftWins').textContent=`连胜: ${championWins}场`;
  document.getElementById('arenaRightName').textContent=challenger.name;
  document.getElementById('arenaRightInfo').textContent=
    `${challenger.gender==='male'?'男':'女'} · ${challenger.age}岁 · ${ageGroupLabel(challenger.age)} · ${categoryLabel(challenger.category)}`;
  setRandomBG('arenaLeftPhoto'); setRandomBG('arenaRightPhoto');
}
function voteArena(side){
  const [champion,challenger]=currentPair;
  if(side==='left'){
    championWins++; champion.score+=10; champion.wins++;
    battleHistory.unshift({winner:champion.name,loser:challenger.name,type:'卫冕成功',time:new Date().toLocaleString('zh-CN')});
  }else{
    battleHistory.unshift({winner:challenger.name,loser:champion.name,type:'成功夺位',time:new Date().toLocaleString('zh-CN')});
    currentChampion=challenger; championWins=1; challenger.score+=15; challenger.wins++; champion.score=Math.max(champion.score-5,0);
  }
  updateArenaDisplay(); updateRanking(); updateBattleNews();
}

/* CP 擂台（独立，不受筛选） */
function getCpArenaPair(){
  if(!currentCpChampion){ currentCpChampion=popularCPs[Math.floor(Math.random()*popularCPs.length)]; cpChampionWins=0; }
  const challengers=popularCPs.filter(cp=>cp.name!==currentCpChampion.name);
  const challenger=challengers[Math.floor(Math.random()*challengers.length)];
  return [currentCpChampion,challenger];
}
function updateCpDisplay(){
  currentCpPair=getCpArenaPair();
  const [champion,challenger]=currentCpPair;
  document.getElementById('cpLeftName').textContent=champion.name;
  document.getElementById('cpLeftInfo').textContent=`${champion.source} · ${champion.type}`;
  document.getElementById('cpLeftWins').textContent=`连胜: ${cpChampionWins}场`;
  document.getElementById('cpRightName').textContent=challenger.name;
  document.getElementById('cpRightInfo').textContent=`${challenger.source} · ${challenger.type}`;
  setRandomBG('cpLeftPhoto'); setRandomBG('cpRightPhoto');
}
function voteCp(side){
  const [champion,challenger]=currentCpPair;
  if(side==='left'){
    cpChampionWins++; champion.score+=50; champion.wins++;
    battleHistory.unshift({winner:champion.name,loser:challenger.name,type:'CP卫冕',time:new Date().toLocaleString('zh-CN')});
  }else{
    battleHistory.unshift({winner:challenger.name,loser:champion.name,type:'CP夺位成功',time:new Date().toLocaleString('zh-CN')});
    currentCpChampion=challenger; cpChampionWins=1; challenger.score+=80; challenger.wins++; champion.score=Math.max(champion.score-30,0);
  }
  updateCpDisplay(); updateCpRanking(); updateBattleNews();
}

/* 排行榜 & 战况（受筛选的明星池） */
function updateRanking(){
  const sorted=[...stars].sort((a,b)=>b.score-a.score);
  document.getElementById('rankingList').innerHTML = sorted.map((s,i)=>`
    <div class="ranking-item">
      <div class="rank-number">${i+1}</div>
      <div class="rank-info">
        <div class="rank-name">${s.name}</div>
        <div>${s.gender==='male'?'男':'女'} · ${s.age}岁 · ${ageGroupLabel(s.age)} · ${categoryLabel(s.category)} · 胜场: ${s.wins}</div>
      </div>
      <div class="rank-score">${s.score}</div>
    </div>
  `).join('');
}
function updateCpRanking(){
  const sorted=[...popularCPs].sort((a,b)=>b.score-a.score);
  document.getElementById('cpRankingList').innerHTML =
    '<h3 style="text-align:center;margin-bottom:14px;color:#667eea;">💕 CP热度榜 💕</h3>' +
    sorted.map((cp,i)=>`
      <div class="ranking-item">
        <div class="rank-number">${i+1}</div>
        <div class="rank-info">
          <div class="rank-name">${cp.name}</div>
          <div>${cp.source} · ${cp.type} · 胜场: ${cp.wins}</div>
        </div>
        <div class="rank-score">${cp.score}</div>
      </div>
    `).join('');
}
function updateBattleNews(){
  if(battleHistory.length>10) battleHistory = battleHistory.slice(0,10);
  document.getElementById('battleNews').innerHTML = battleHistory.length
    ? battleHistory.map(b=>`
      <div class="battle-news">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <div><strong>${b.winner}</strong> ${b.type} 击败了 <strong>${b.loser}</strong></div>
          <div style="color:#666;font-size:.9em;">${b.time}</div>
        </div>
      </div>`).join('')
    : '<div class="battle-news">暂无战况，快去投票吧！</div>';
}

/* 视图切换 */
function showSection(e,section){
  document.querySelectorAll('.nav-btn').forEach(b=>b.classList.remove('active'));
  e.target.classList.add('active');
  ['arena','cp','ranking','battle'].forEach(id=>document.getElementById(id+'Section').classList.add('hidden'));
  document.getElementById(section+'Section').classList.remove('hidden');
  if(section==='arena') updateArenaDisplay();
  else if(section==='cp'){ updateCpDisplay(); updateCpRanking(); }
  else if(section==='ranking') updateRanking();
  else if(section==='battle') updateBattleNews();
}

/* 初始化 */
document.addEventListener('DOMContentLoaded',()=>{
  applyFilters();     // 初始化筛选并渲染擂台/榜单
  updateCpDisplay();  // 初始化 CP 区
  updateCpRanking();
  updateBattleNews();
});
</script>
</body>
</html>
